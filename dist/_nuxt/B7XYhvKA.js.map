{"version":3,"file":"B7XYhvKA.js","sources":["../../../../../../../modules/designbadge/stores/usePageStore.ts"],"sourcesContent":["// stores/pageStore.ts\r\nimport { defineStore } from \"pinia\";\r\n\r\n// Define the state interface\r\nexport interface PageState {\r\n  pageWidth: number;\r\n  pageHeight: number;\r\n  showModal: boolean;\r\n  badgeOrientation: string;\r\n  badgeSize: string;\r\n  badgeSizePreset: string;\r\n  customWidth: number;\r\n  customHeight: number;\r\n  presetWidth: number;\r\n  presetHeight: number;\r\n}\r\n\r\n// Define the store\r\nexport const usePageStore = defineStore(\"page\", {\r\n  state: (): PageState => ({\r\n    pageWidth: 105, // default values\r\n    pageHeight: 148,\r\n    presetWidth: 105,\r\n    presetHeight: 148,\r\n    showModal: false,\r\n    badgeOrientation: \"portrait\",\r\n    badgeSize: \"A6\",\r\n    badgeSizePreset: \"preset\",\r\n    customWidth: 0,\r\n    customHeight: 0,\r\n  }),\r\n\r\n  actions: {\r\n    closeModal() {\r\n      this.showModal = false;\r\n      this.badgeSizePreset = \"preset\";\r\n      this.badgeSize = \"A6\";\r\n      this.customWidth = 105;\r\n      this.customHeight = 148;\r\n      this.badgeOrientation = \"portrait\";\r\n    },\r\n\r\n    saveBadgeConfig() {\r\n      let widthMM = this.customWidth;\r\n      let heightMM = this.customHeight;\r\n\r\n      // If preset, assign standard mm sizes\r\n      if (this.badgeSizePreset === \"preset\") {\r\n        switch (this.badgeSize) {\r\n          case \"A4\":\r\n            widthMM = 210;\r\n            heightMM = 297;\r\n            break;\r\n          case \"A6\":\r\n            widthMM = 105;\r\n            heightMM = 148;\r\n            break;\r\n          case \"A7\":\r\n            widthMM = 74;\r\n            heightMM = 105;\r\n            break;\r\n          default:\r\n            widthMM = this.customWidth;\r\n            heightMM = this.customHeight;\r\n        }\r\n      }\r\n\r\n      // Swap for landscape\r\n      this.presetWidth = widthMM;\r\n      this.presetHeight = heightMM;\r\n\r\n      if (this.badgeOrientation === \"landscape\") {\r\n        [this.presetWidth, this.presetHeight] = [\r\n          this.presetHeight,\r\n          this.presetWidth,\r\n        ];\r\n      }\r\n\r\n      // Convert mm → px (1mm ≈ 3.78px)\r\n      const finalWidthPX = Math.round(this.presetWidth * 3.78);\r\n      const finalHeightPX = Math.round(this.presetHeight * 3.78);\r\n\r\n      // Update pageWidth and pageHeight\r\n      this.pageWidth = finalWidthPX;\r\n      this.pageHeight = finalHeightPX;\r\n\r\n      console.log(\"pageHeight\", this.pageHeight);\r\n\r\n      this.showModal = false;\r\n    },\r\n\r\n    updateCustomSize() {\r\n      if (this.badgeSizePreset === \"preset\") {\r\n        switch (this.badgeSize) {\r\n          case \"A4\":\r\n            this.customWidth = 210;\r\n            this.customHeight = 297;\r\n            break;\r\n          case \"A6\":\r\n            this.customWidth = 105;\r\n            this.customHeight = 148;\r\n            break;\r\n          case \"A7\":\r\n            this.customWidth = 74;\r\n            this.customHeight = 105;\r\n            break;\r\n          default:\r\n            this.customWidth = 0;\r\n            this.customHeight = 0;\r\n        }\r\n      }\r\n    },\r\n\r\n    setBadgeSize(size: string) {\r\n      this.badgeSize = size;\r\n      this.updateCustomSize();\r\n    },\r\n\r\n    setBadgeSizePreset(preset: string) {\r\n      this.badgeSizePreset = preset;\r\n      this.updateCustomSize();\r\n    },\r\n\r\n    setBadgeOrientation(orientation: string) {\r\n      this.badgeOrientation = orientation;\r\n    },\r\n\r\n    toggleModal() {\r\n      this.showModal = !this.showModal;\r\n    },\r\n\r\n    getWidthLabel() {\r\n      if (this.badgeSizePreset === \"preset\") {\r\n        switch (this.badgeSize) {\r\n          case \"A7\":\r\n            return this.badgeOrientation === \"landscape\" ? \"105.0mm\" : \"74.0mm\";\r\n          case \"A6\":\r\n            return this.badgeOrientation === \"landscape\"\r\n              ? \"148.0mm\"\r\n              : \"105.0mm\";\r\n          case \"A4\":\r\n          default:\r\n            return this.badgeOrientation === \"landscape\"\r\n              ? \"297.0mm\"\r\n              : \"210.0mm\";\r\n        }\r\n      }\r\n      return \"0.0mm\"; // Default case for custom\r\n    },\r\n\r\n    getHeightLabel() {\r\n      if (this.badgeSizePreset === \"preset\") {\r\n        switch (this.badgeSize) {\r\n          case \"A7\":\r\n            return this.badgeOrientation === \"landscape\" ? \"74.0mm\" : \"105.0mm\";\r\n          case \"A6\":\r\n            return this.badgeOrientation === \"landscape\"\r\n              ? \"105.0mm\"\r\n              : \"148.0mm\";\r\n          case \"A4\":\r\n          default:\r\n            return this.badgeOrientation === \"landscape\"\r\n              ? \"210.0mm\"\r\n              : \"297.0mm\";\r\n        }\r\n      }\r\n      return \"0.0mm\"; // Default case for custom\r\n    },\r\n  },\r\n});\r\n"],"names":["usePageStore","defineStore","widthMM","heightMM","finalWidthPX","finalHeightPX","size","preset","orientation"],"mappings":"mCAkBO,MAAMA,EAAeC,EAAY,OAAQ,CAC9C,MAAO,KAAkB,CACvB,UAAW,IACX,WAAY,IACZ,YAAa,IACb,aAAc,IACd,UAAW,GACX,iBAAkB,WAClB,UAAW,KACX,gBAAiB,SACjB,YAAa,EACb,aAAc,CAAA,GAGhB,QAAS,CACP,YAAa,CACX,KAAK,UAAY,GACjB,KAAK,gBAAkB,SACvB,KAAK,UAAY,KACjB,KAAK,YAAc,IACnB,KAAK,aAAe,IACpB,KAAK,iBAAmB,UAC1B,EAEA,iBAAkB,CAChB,IAAIC,EAAU,KAAK,YACfC,EAAW,KAAK,aAGpB,GAAI,KAAK,kBAAoB,SAC3B,OAAQ,KAAK,UAAA,CACX,IAAK,KACHD,EAAU,IACVC,EAAW,IACX,MACF,IAAK,KACHD,EAAU,IACVC,EAAW,IACX,MACF,IAAK,KACHD,EAAU,GACVC,EAAW,IACX,MACF,QACED,EAAU,KAAK,YACfC,EAAW,KAAK,YAAA,CAKtB,KAAK,YAAcD,EACnB,KAAK,aAAeC,EAEhB,KAAK,mBAAqB,cAC5B,CAAC,KAAK,YAAa,KAAK,YAAY,EAAI,CACtC,KAAK,aACL,KAAK,WAAA,GAKT,MAAMC,EAAe,KAAK,MAAM,KAAK,YAAc,IAAI,EACjDC,EAAgB,KAAK,MAAM,KAAK,aAAe,IAAI,EAGzD,KAAK,UAAYD,EACjB,KAAK,WAAaC,EAElB,QAAQ,IAAI,aAAc,KAAK,UAAU,EAEzC,KAAK,UAAY,EACnB,EAEA,kBAAmB,CACjB,GAAI,KAAK,kBAAoB,SAC3B,OAAQ,KAAK,UAAA,CACX,IAAK,KACH,KAAK,YAAc,IACnB,KAAK,aAAe,IACpB,MACF,IAAK,KACH,KAAK,YAAc,IACnB,KAAK,aAAe,IACpB,MACF,IAAK,KACH,KAAK,YAAc,GACnB,KAAK,aAAe,IACpB,MACF,QACE,KAAK,YAAc,EACnB,KAAK,aAAe,CAAA,CAG5B,EAEA,aAAaC,EAAc,CACzB,KAAK,UAAYA,EACjB,KAAK,iBAAA,CACP,EAEA,mBAAmBC,EAAgB,CACjC,KAAK,gBAAkBA,EACvB,KAAK,iBAAA,CACP,EAEA,oBAAoBC,EAAqB,CACvC,KAAK,iBAAmBA,CAC1B,EAEA,aAAc,CACZ,KAAK,UAAY,CAAC,KAAK,SACzB,EAEA,eAAgB,CACd,GAAI,KAAK,kBAAoB,SAC3B,OAAQ,KAAK,UAAA,CACX,IAAK,KACH,OAAO,KAAK,mBAAqB,YAAc,UAAY,SAC7D,IAAK,KACH,OAAO,KAAK,mBAAqB,YAC7B,UACA,UACN,IAAK,KACL,QACE,OAAO,KAAK,mBAAqB,YAC7B,UACA,SAAA,CAGV,MAAO,OACT,EAEA,gBAAiB,CACf,GAAI,KAAK,kBAAoB,SAC3B,OAAQ,KAAK,UAAA,CACX,IAAK,KACH,OAAO,KAAK,mBAAqB,YAAc,SAAW,UAC5D,IAAK,KACH,OAAO,KAAK,mBAAqB,YAC7B,UACA,UACN,IAAK,KACL,QACE,OAAO,KAAK,mBAAqB,YAC7B,UACA,SAAA,CAGV,MAAO,OACT,CAAA,CAEJ,CAAC"}