import{_ as V,r as i,k as B,x as r,y as n,z as t,I as c,M as b,R as L,A as k,U as w,V as A,Y as K,J as T,K as D,O as F}from"./74hHYSrs.js";const N={class:"bg-white rounded-2xl shadow-lg w-full max-w-2xl p-6 animate-fadeIn flex flex-col"},R={class:"flex justify-between items-center border-b pb-3 mb-4"},E={class:"flex space-x-2 mb-4"},P={key:0},H={key:0,class:"mt-6"},J={class:"w-full bg-gray-200 rounded-full h-3"},O={class:"text-sm text-gray-700 text-center mt-2"},Q={key:1},Y={class:"flex justify-between items-center mb-4"},q={class:"grid grid-cols-2 sm:grid-cols-3 gap-3 max-h-64 overflow-y-auto"},G=["onClick"],W=["src","alt"],X={class:"text-xs text-center text-gray-500 truncate"},Z={key:0,class:"absolute top-1 right-1 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center"},ee={class:"mt-6 flex justify-end space-x-2"},te={__name:"ImageUploadModal",props:{side:{type:String,default:"front"}},emits:["uploaded","close"],setup(C,{emit:_}){const I=C,x=_,f=i(null),u=i(0),a=i("upload"),y=i([{src:"https://placekitten.com/200/300",name:"Kitten 1",category:"nature"},{src:"https://placekitten.com/300/300",name:"Kitten 2",category:"people"},{src:"https://placekitten.com/400/300",name:"Kitten 3",category:"tech"}]),v=i(""),p=i(""),s=i(null),M=B(()=>y.value.filter(o=>{const e=p.value?o.category===p.value:!0,l=o.name.toLowerCase().includes(v.value.toLowerCase());return e&&l}));function U(){f.value?.click()}function j(o){const e=Array.from(o.target.files);if(!e.length)return;let l=0;u.value=0;const m=(d,S)=>{const g=new FileReader;g.onload=()=>{const h={src:g.result,name:d.name,category:"uncategorized"};y.value.push(h),a.value="library",s.value=h,l++,u.value=Math.round(l/e.length*100),l===e.length&&setTimeout(()=>u.value=0,600)},g.readAsDataURL(d)};e.forEach((d,S)=>m(d))}function $(o){s.value=o}function z(){s.value&&(x("uploaded",{side:I.side,src:s.value.src,name:s.value.name,category:s.value.category}),x("close"))}return(o,e)=>(n(),r("div",{role:"dialog","aria-modal":"true","aria-label":"Image Manager",class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e[6]||(e[6]=F(l=>o.$emit("close"),["self"]))},[t("div",N,[t("div",R,[e[7]||(e[7]=t("h3",{class:"text-xl font-semibold text-gray-800"},"Image Manager",-1)),t("button",{class:"text-gray-400 hover:text-red-500 transition",onClick:e[0]||(e[0]=l=>o.$emit("close"))}," âœ• ")]),t("div",E,[t("button",{class:b(["px-4 py-2 rounded",a.value==="upload"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"]),onClick:e[1]||(e[1]=l=>a.value="upload")}," Upload Image ",2),t("button",{class:b(["px-4 py-2 rounded",a.value==="library"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"]),onClick:e[2]||(e[2]=l=>a.value="library")}," Uploaded Images ",2)]),a.value==="upload"?(n(),r("div",P,[t("div",{class:"flex flex-col items-center justify-center p-6 border-2 border-dashed border-blue-400 rounded-lg cursor-pointer hover:bg-blue-50 transition",onClick:U},[e[8]||(e[8]=t("svg",{class:"w-12 h-12 text-blue-500 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 15a4 4 0 014-4h1V7a4 4 0 014-4h2a4 4 0 014 4v4h1a4 4 0 014 4v5H3v-5z"})],-1)),e[9]||(e[9]=t("p",{class:"text-sm text-gray-600"},"Click to select an image",-1)),t("input",{ref_key:"fileInput",ref:f,type:"file",accept:"image(/*",multiple:"",class:"hidden",onChange:j},null,544)]),u.value>0?(n(),r("div",H,[t("div",J,[t("div",{class:"bg-blue-500 h-3 rounded-full transition-all duration-300 ease-in-out",style:L({width:u.value+"%"})},null,4)]),t("p",O," Uploading... "+k(u.value)+"% ",1)])):c("",!0)])):c("",!0),a.value==="library"?(n(),r("div",Q,[t("div",Y,[w(t("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>v.value=l),type:"text",placeholder:"Search image...",class:"w-full px-3 py-2 border rounded"},null,512),[[A,v.value]]),w(t("select",{"onUpdate:modelValue":e[4]||(e[4]=l=>p.value=l),class:"ml-2 px-3 py-2 border rounded"},e[10]||(e[10]=[t("option",{value:""},"All",-1),t("option",{value:"nature"},"Nature",-1),t("option",{value:"tech"},"Tech",-1),t("option",{value:"people"},"People",-1)]),512),[[K,p.value]])]),t("div",q,[(n(!0),r(T,null,D(M.value,(l,m)=>(n(),r("div",{key:m,class:b(["relative cursor-pointer border rounded hover:border-blue-500",{"border-blue-500":l===s.value}]),onClick:d=>$(l)},[t("img",{src:l.src,alt:l.name,class:"w-full h-24 object-cover rounded"},null,8,W),t("p",X,k(l.name),1),l===s.value?(n(),r("div",Z,e[11]||(e[11]=[t("svg",{class:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)]))):c("",!0)],10,G))),128))])])):c("",!0),t("div",ee,[a.value==="library"&&s.value?(n(),r("button",{key:0,class:"px-4 py-2 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 transition",onClick:z}," Choose ")):c("",!0),t("button",{class:"px-4 py-2 text-sm bg-red-500 text-white rounded hover:bg-red-600 transition",onClick:e[5]||(e[5]=l=>o.$emit("close"))}," Cancel ")])])]))}},oe=V(te,[["__scopeId","data-v-020803a1"]]);export{oe as _};
//# sourceMappingURL=DmEVysNc.js.map
